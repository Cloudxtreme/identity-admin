@import play.i18n._
@import models.Forms._
@(pageTitle: String, searchQuery: Option[String], user: User,form: Form[UserUpdateRequest], error: Option[String], success: Option[String])
    @main(pageTitle)(searchQuery){
        <div class="row">
            <div class="col-md-10">
                @error.map { err =>
                    <div class="alert alert-danger" role="alert">@err</div>
                }
                @success.map { succ =>
                    <div class="alert alert-success" role="alert">@succ</div>
                }
                <div class="row uneditable-fields">
                    <div class="col-sm-2">
                        <img src="@routes.Assets.at("images/darkUserIcon.svg")" />
                    </div>
                    <div class="col-sm-10">
                        <h1>@user.personalDetails.firstName @user.personalDetails.lastName</h1>
                        <div class="row">
                            <div class="col-sm-2">
                                <p>@Messages.get("editUser.idHeader")</p>
                            </div>
                            <div class="col-sm-10">
                                <p>@user.id</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-2">
                                <p>@Messages.get("editUser.displayNameHeader")</p>
                            </div>
                            <div class="col-sm-10">
                                <p>@user.displayName</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-2">
                                <p>@Messages.get("editUser.vanityUrlHeader")</p>
                            </div>
                            <div class="col-sm-10">
                                <p>@user.vanityUrl</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-2">
                                <p>@Messages.get("editUser.registeredHeader")</p>
                            </div>
                            <div class="col-sm-10">
                                <p>
                                    @user.registrationDate.map(o => o.dayOfWeek.getAsText)
                                    @user.registrationDate.map(o => o.getDayOfMonth + "/")
                                    @user.registrationDate.map(o => o.getMonthOfYear + "/")
                                    @user.registrationDate.map(o => o.getYear)
                                    @user.registrationDate.map(o => o.toLocalTime)
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-2">
                                <p>@Messages.get("editUser.lastActivityHeader")</p>
                            </div>
                            <div class="col-sm-10">
                                <p>
                                    @user.lastActivityDate.map(o => o.dayOfWeek.getAsText)
                                    @user.lastActivityDate.map(o => o.getDayOfMonth + "/")
                                    @user.lastActivityDate.map(o => o.getMonthOfYear + "/")
                                    @user.lastActivityDate.map(o => o.getYear)
                                    @user.lastActivityDate.map(o => o.toLocalTime)
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-2">
                                <p>@Messages.get("editUser.emailValidatedHeader")</p>
                            </div>
                            <div class="col-sm-10">
                                @if(user.status.userEmailValidated) {
                                    <p class="email-validated">Yes</p>
                                } else {
                                    <p class="email-not-validated">No</p>
                                }

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="btn-group-vertical center-block">
                    <button class="btn btn-default">@Messages.get("editUser.profileBtn")</button>
                    <form action="delete" class="btn-group">
                        <input type="hidden" value=@searchQuery name="searchQuery"/>
                        <input type="hidden" value=@user.id name="userId"/>
                        <button class="btn btn-danger" type="submit">@Messages.get("editUser.deleteBtn")</button>
                    </form>
                    <button class="btn btn-warning">@Messages.get("editUser.validateBtn")</button>
                </div>
            </div>
        </div>
        <form method="post" action="save">
            <input type="hidden" name="userId" value="@user.id">
            <input type="hidden" name="searchQuery" value="@searchQuery">
            <div class="row">
                <div class="col-md-6">
                    <h4>@Messages.get("editUser.accountDetails")</h4>
                </div>
                <div class="col-md-4 hidden-xs hidden-sm visible-md visible-lg visible-xl">
                    <h4>@Messages.get("editUser.marketingPrefsHeader")</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="row">
                        <div class="col-md-4">
                            <p>@Messages.get("editUser.emailHeader")</p>
                        </div>
                        <div class="col-md-8">
                            <input class="full-width-input" type="text" name="@form("email").name" value="@form("email").value"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <p>@Messages.get("editUser.firstNameHeader")</p>
                        </div>
                        <div class="col-md-8">
                            <input class="full-width-input" type="text" name="@form("firstName").name" value="@form("firstName").value"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <p>@Messages.get("editUser.lastNameHeader")</p>
                        </div>
                        <div class="col-md-8">
                            <input class="full-width-input" type="text" name="@form("lastName").name" value="@form("lastName").value"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <p>@Messages.get("editUser.usernameHeader")</p>
                        </div>
                        <div class="col-md-8">
                            <input class="full-width-input" type="text" name="@form("username").name" value="@form("username").value"/>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="row">
                        <div class="col-md-4 visible-xs visible-sm hidden-md hidden-lg hidden-xl">
                            <h4>@Messages.get("editUser.marketingPrefsHeader")</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-1">
                            <input
                                type="checkbox"
                                class="checkbox"
                                name="@form("receiveGnmMarketing").name"
                                value="true"
                                @if(form("receiveGnmMarketing").value.getOrElse("false") == "true"){
                                    checked = "checked"
                                }
                            />
                        </div>
                        <div class="col-xs-11">
                            <p>@Messages.get("editUser.GNMMarketing")</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-1">
                            <input
                                type="checkbox"
                                class="checkbox"
                                name="@form("receive3rdPartyMarketing").name"
                                value="true"
                                @if(form("receive3rdPartyMarketing").value.getOrElse("false") == "true"){
                                    checked = "checked"
                                }
                            />
                        </div>
                        <div class="col-xs-11">
                            <p>@Messages.get("editUser.3rdPartyMarketing")</p>
                        </div>
                    </div>
                </div>
            </div>
        <div class="row">
            <div class="col-md-10"></div>
            <div class="col-md-2">
                <button type="submit" class="pull-right btn btn-success btn-block center-block">@Messages.get("editUser.saveBtn")</button>
            </div>
        </div>
    </form>
    <div class="row">
        <div class="col-md-10 uneditable-fields">
            <div class="row">
                <div class="col-md-2">
                    <h4>@Messages.get("editUser.personalDetailsHeader")</h4>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.genderHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.personalDetails.gender</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.dobHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>
                                @user.personalDetails.dateOfBirth.map(o => o.getDayOfMonth + "/")
                                @user.personalDetails.dateOfBirth.map(o => o.getMonthOfYear + "/")
                                @user.personalDetails.dateOfBirth.map(o => o.getYear)
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.locationHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.personalDetails.location</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <h4>@Messages.get("editUser.deliveryAddressHeader")</h4>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.addressLine1Header")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.deliveryAddress.addressLine1</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.addressLine2Header")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.deliveryAddress.addressLine2</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.townHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.deliveryAddress.addressLine3</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.countyStateHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.deliveryAddress.addressLine4</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.postcodeZipHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.deliveryAddress.postcode</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.countryHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.deliveryAddress.country</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <h4>@Messages.get("editUser.billingAddressHeader")</h4>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.addressLine1Header")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.billingAddress.addressLine1</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.addressLine2Header")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.billingAddress.addressLine2</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.townHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.billingAddress.addressLine3</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.countyStateHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.billingAddress.addressLine4</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.postcodeZipHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.billingAddress.postcode</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <p>@Messages.get("editUser.countryHeader")</p>
                        </div>
                        <div class="col-xs-6">
                            <p>@user.billingAddress.country</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <h4>@Messages.get("editUser.userGroupsHeader")</h4>
                </div>
            </div>
            @for(userGroup <- user.groups) {
                <div class="row">
                    <div class="col-xs-2">
                        <p>@userGroup.name</p>
                    </div>
                    <div class="col-xs-4">
                        <p>
                            @userGroup.joinDate.map(o => o.getDayOfMonth + "/")
                            @userGroup.joinDate.map(o => o.getMonthOfYear + "/")
                            @userGroup.joinDate.map(o => o.getYear)
                            @userGroup.joinDate.map(o => o.toLocalTime)
                        </p>
                    </div>
                </div>
            }
        </div>
    </div>
    }